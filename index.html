<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>V30 å‚™æ´ CDN ç‰ˆ</title>
    <script async src="https://docs.opencv.org/4.8.0/opencv.js" onload="onOpenCvScriptLoad()"></script>
    <style>body{background:#111;color:#eee;font-family:sans-serif;padding:20px;text-align:center}</style>
</head>
<body>
    <h2>V30 å‚™æ´ CDN ç‰ˆ</h2>
    <p>å˜—è©¦å¾ jsDelivr CDN è¼‰å…¥æ¨¡å‹ (ç¹é HuggingFace)</p>
    <div id="status">â³ åˆå§‹åŒ–...</div>
    
    <script type="module">
        import { pipeline, env } from 'https://cdn.jsdelivr.net/npm/@xenova/transformers@2.16.1';

        // è¨­å®šï¼šä½¿ç”¨ jsDelivr åŠ é€Ÿçš„ Hugging Face é¡åƒ
        env.allowLocalModels = false;
        env.useBrowserCache = true;
        env.remoteHost = "https://cdn.jsdelivr.net/gh/xenova/transformers.js-models/";
        env.remotePathTemplate = "{model}/"; 

        async function testAI() {
            const status = document.getElementById('status');
            try {
                status.innerText = "ğŸš€ æ­£åœ¨å¾ CDN ä¸‹è¼‰æ¨¡å‹ (Xenova/modnet)...";
                // æ”¹ç”¨ modnetï¼Œé€™æ˜¯ä¸€å€‹éå¸¸å°ä¸”ç©©å®šçš„å»èƒŒæ¨¡å‹
                const segmenter = await pipeline('image-segmentation', 'Xenova/modnet');
                
                status.innerText = "âœ… AI è¼‰å…¥æˆåŠŸï¼(CDN é‹ä½œæ­£å¸¸)";
                status.style.color = "#4caf50";
                console.log("Model loaded");
            } catch (e) {
                status.innerText = "âŒ å¤±æ•—: " + e.message;
                status.style.color = "#ff5252";
                console.error(e);
            }
        }
        testAI();

        window.onOpenCvScriptLoad = function() {
            console.log("OpenCV Loaded");
        }
    </script>
</body>
</html>
